<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Glitch: Seoul Login - EP.002</title>
    <style>
        /* --- 基本設定 --- */
        body {
            margin: 0;
            padding: 0;
            background-color: #000;
            color: #fff;
            font-family: sans-serif;
            display: flex;
            justify-content: center;
        }

        /* --- ビューワー本体 --- */
        #viewer-container {
            width: 100%;
            max-width: 690px;
            background-color: #000;
            padding-bottom: 50px; /* 下部に少し余白 */
        }

        .scene-block {
            display: flex;
            flex-direction: column;
            margin: 0;
        }

        .comic-image {
            display: block;
            width: 100%;
            height: auto;
            border: none;
            background-color: #111; /* ロード中のプレースホルダー色 */
            min-height: 200px;
        }

        /* --- 字幕スタイル (Trilingual) --- */
        .caption-area {
            padding: 24px 16px 40px;
            background-color: #000;
            text-align: center;
        }

				/* --- Webtoon Trilingual Style --- */
        /* 1. 韓国語：メイン */
        .text-kr {
            font-size: 18px;
            font-weight: 700;
            line-height: 1.5;
            color: #ffffff;
            margin-bottom: 6px;
            letter-spacing: 0.02em;
        }

        .text-ja {
            font-size: 14px;
            font-weight: 400;
            line-height: 1.4;
            color: #cccccc;
            margin-bottom: 12px;
        }

        .text-fr {
            font-size: 12px;
            color: #666666;
            font-style: italic;
            font-family: 'Georgia', serif;
            opacity: 0.8;
        }

        /* --- ナビゲーションエリアのスタイル --- */
        
        /* 1. NEXTボタンエリア (まだ次がないのでComing Soon表示) */
        .next-episode-area {
            padding: 60px 20px 40px;
            text-align: center;
            background-color: #000;
        }

        .next-button {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            max-width: 300px;
            padding: 20px;
            border: 1px solid #333;
            background-color: #050505;
            color: #fff;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        /* Coming Soon 用の無効化スタイル */
        .next-button.disabled {
            border-color: #222;
            opacity: 0.6;
            cursor: default;
            pointer-events: none; /* クリック不可 */
        }

        .next-label {
            font-size: 10px;
            color: #666;
            letter-spacing: 0.2em;
            margin-bottom: 5px;
        }

        .next-title {
            font-size: 20px;
            font-weight: bold;
            letter-spacing: 0.1em;
            font-family: 'Courier New', sans-serif;
            color: #888;
        }

        /* 2. フッターナビゲーション (Prev / Top / Select) */
        .nav-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background-color: #0a0a0a;
            border-top: 1px solid #222;
            margin-top: 20px;
        }

        .nav-link {
            font-size: 12px;
            color: #888;
            text-decoration: none;
            font-weight: bold;
            letter-spacing: 0.1em;
            padding: 10px;
            transition: color 0.3s;
        }

        .nav-link:hover {
            color: #0ff;
        }

        /* エピソード選択プルダウン */
        .ep-select-wrapper {
            position: relative;
        }

        .ep-select-wrapper select {
            appearance: none;
            background-color: #000;
            color: #0ff;
            border: 1px solid #333;
            padding: 5px 30px 5px 15px;
            font-size: 14px;
            font-family: 'Courier New', monospace;
            cursor: pointer;
            border-radius: 4px;
        }

        .ep-select-wrapper::after {
            content: '▼';
            font-size: 8px;
            color: #0ff;
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none;
        }

    </style>
</head>
<body>

    <div id="viewer-container"></div>

    <div class="next-episode-area">
        <div class="next-button disabled">
            <span class="next-label">NEXT EPISODE</span>
            <span class="next-title">COMING SOON...</span>
        </div>
    </div>

    <div class="nav-footer">
        <a href="index.html" class="nav-link">
            &lt; PREV
        </a>

        <div class="ep-select-wrapper">
            <select onchange="if(this.value) location.href=this.value">
                <option value="index.html">EP.01</option>
                <option value="#" selected>EP.02</option>
                </select>
        </div>

        <a href="../index.html" class="nav-link">
            STUDIO &gt;
        </a>
    </div>

    <script>
        // ==========================================
        // 設定エリア (Configuration)
        // ==========================================
        const CONFIG = {
            totalImages: 31,         // ★画像の枚数に合わせて変更してください
            filePrefix: 'ep002/scene',     // ★重要: 第2話用のプレフィックス (例: ep02_01.webp)
            fileExtension: '.webp',
            zeroPadding: true
        };

        // ==========================================
        // 字幕データ (Scenario Data)
        // ==========================================
        const scenarioData = [
            // 例:
            // { id: 1, kr: "...", ja: "...", fr: "..." },
        ];

        // ==========================================
        // 画像生成ロジック
        // ==========================================
        const container = document.getElementById('viewer-container');

        for (let i = 1; i <= CONFIG.totalImages; i++) {
            const sceneBlock = document.createElement('div');
            sceneBlock.className = 'scene-block';

            // ファイル名生成 (例: ep02_01.webp)
            let fileNumber = i;
            if (CONFIG.zeroPadding) {
                fileNumber = i.toString().padStart(2, '0');
            }
            const fileName = `${CONFIG.filePrefix}${fileNumber}${CONFIG.fileExtension}`;

            // 画像要素作成
            const img = document.createElement('img');
            img.src = fileName;
            img.className = 'comic-image';
            img.loading = 'lazy'; // 遅延読み込み
            img.alt = `Episode 2 - Scene ${i}`;
            
            sceneBlock.appendChild(img);

            // 字幕追加処理
            const sceneText = scenarioData.find(data => data.id === i);
            if (sceneText) {
                const captionDiv = document.createElement('div');
                captionDiv.className = 'caption-area';
                
                if (sceneText.kr) {
                    const pKr = document.createElement('p');
                    pKr.className = 'text-kr';
                    pKr.textContent = sceneText.kr;
                    captionDiv.appendChild(pKr);
                }
                
                if (sceneText.ja) {
                    const pJa = document.createElement('p');
                    pJa.className = 'text-ja';
                    pJa.textContent = sceneText.ja;
                    captionDiv.appendChild(pJa);
                }

                if (sceneText.fr) {
                    const pFr = document.createElement('p');
                    pFr.className = 'text-fr';
                    pFr.textContent = sceneText.fr;
                    captionDiv.appendChild(pFr);
                }

                sceneBlock.appendChild(captionDiv);
            }

            container.appendChild(sceneBlock);
        }

        // ==========================================
        // フッター要素をコンテナの最後に移動
        // ==========================================
        // これにより、スマホで見た時に画像の直下にボタンが配置されます
        const nextArea = document.querySelector('.next-episode-area');
        const navFooter = document.querySelector('.nav-footer');
        
        if (nextArea) container.appendChild(nextArea);
        if (navFooter) container.appendChild(navFooter);

    </script>
</body>
</html>
